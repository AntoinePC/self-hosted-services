{
	"name": "Self-hosted services devcontainer",
	"dockerComposeFile": "./docker-compose.yml",
	"service": "devcontainer",
	"workspaceFolder": "/workspace",
	"postAttachCommand": "ansible-galaxy install -r requirements.yml --force",
	"customizations": {
		"vscode": {
			"settings": {
				"dev.containers.dockerCredentialHelper": false
			},
			"extensions": [
				"bierner.markdown-mermaid",
				"bmarkovic.haproxy",
				"chrislajoie.vscode-modelines",
				"christian-kohler.path-intellisense",
				"docker.docker",
				"eamodio.gitlens",
				"mads-hartmann.bash-ide-vscode",
				"mitchdenny.ecdc",
				"ms-azuretools.vscode-containers",
				"ms-azuretools.vscode-docker",
				"ms-kubernetes-tools.vscode-kubernetes-tools",
				"ms-python.python",
				"ms-python.vscode-pylance",
				"PascalReitermann93.vscode-yaml-sort",
				"redhat.ansible",
				"redhat.vscode-yaml",
				"sandipchitale.vscode-kubernetes-helm-extras",
				"signageos.signageos-vscode-sops",
				"Tim-Koehler.helm-intellisense",
				"VadzimNestsiarenka.helm-template-preview-and-more",
				"wholroyd.jinja",
				"yzhang.markdown-all-in-one"
			]
		}
	},
	"features": {
		"ghcr.io/devcontainers/features/sshd:1": {
			"version": "latest"
		}
	},
	"mounts": [
		"source=${localEnv:SSH_AUTH_SOCK},target=/ssh-agent,type=bind,consistency=cached",
		"source=${localEnv:HOME}/.ssh/config,target=/home/vscode/.ssh/config,type=bind,consistency=cached",
        "source=${localEnv:HOME}/.ssh/known_hosts,target=/home/vscode/.ssh/known_hosts,type=bind,consistency=cached"
	],
	"remoteEnv": {
		"SSH_AUTH_SOCK": "/ssh-agent"
	}
}